---
layout: default
body_classes: page-project
---

{% assign limit = page.gallery_limit | default: 6 %}

<div class="section">
  <div class="container">
    <div class="row">


  <div class="col-12 mb-0.1">
        {% if page.title %}
          <div class="project-heading">
            <h1>{{ page.title }}</h1>
          </div>
        {% endif %}
        {% if page.categories %}
          <div class="project-categories">
          {% include framework/categories-badges.html 
              categories=page.categories
          %}
          </div>
        {% endif %}
      </div>

    </div>

    <div class="row">
      <div class="col">
        <div class="gallery gallery-masonry">
          {% for item in page.gallery limit: limit %}
            <div class="gallery-item">
              <div class="gallery-image"><img src="{{ item.image | relative_url }}"/></div>
              {% if item.caption %}
              <div class="gallery-caption">{{ item.caption }}</div>
              {% endif %}
            </div>
          {% endfor %}
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-12 col-md-6 mb-4">
        {% if page.client %}
          <div class="project-client">
            <strong>{{ page.client_label | default: "Client" }} </strong><span>{{ page.client }}</span>
          </div>
        {% endif %}
        {% if page.role %}
          <div class="project-role">
            <strong>{{ page.role_label | default: "Role" }} </strong><span>{{ page.role }}</span>
          </div>
        {% endif %}
        {% if page.time %}
          <div class="project-time">
            <strong>{{ page.time_label | default: "Time" }} </strong><span>{{ page.time }}</span>
          </div>
        {% endif %}
      </div>
    </div>
    
    <div class="row">
      <div class="col-12">
        <div class="project-main-content w-100" id="main-project-text" style="font-size: 1.2rem !important; color: #d9d9d9 !important;">{{ content }}</div>
      </div>
    </div>
    
    {% if page.stats_table %}
      <div class="row mt-5">
        <div class="col-12 d-flex justify-content-center">
          <div class="project-stats-table">
            {% if page.stats_table.title %}
              <div class="table-title">{{ page.stats_table.title }}</div>
            {% endif %}
            <table class="table table-sm">
              {% if page.stats_table.dates %}
              <thead>
                <tr class="dates-row">
                  {% if page.stats_table.dates.size == 1 %}
                    <th class="date-cell" colspan="{{ page.stats_table.headers.size }}" style="text-align: center;">{{ page.stats_table.dates[0] }}</th>
                  {% else %}
                    {% for date in page.stats_table.dates %}
                      <th class="date-cell" style="text-align: center;">{{ date }}</th>
                    {% endfor %}
                  {% endif %}
                </tr>
              </thead>
              {% endif %}
              {% if page.stats_table.headers %}
              <thead{% unless page.stats_table.dates %} class="main-header"{% endunless %}>
                <tr>
                  {% for header in page.stats_table.headers %}
                    <th style="text-align: center;">{{ header }}</th>
                  {% endfor %}
                </tr>
              </thead>
              {% endif %}
              <tbody>
                {% for row in page.stats_table.rows %}
                  <tr>
                    {% for cell in row %}
                      <td style="text-align: center;">{{ cell }}</td>
                    {% endfor %}
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    {% endif %}
    
    {% if page.detail_sections %}
      <div class="detail-sections-container mt-5">
        {% assign has_full_width = false %}
        {% for section in page.detail_sections %}
          {% if section.layout == "full-width" %}
            {% assign has_full_width = true %}
            {% break %}
          {% endif %}
        {% endfor %}
        
        {% if has_full_width %}
          {% comment %}Mixed layout: handle full-width and grid sections separately{% endcomment %}
          {% for section in page.detail_sections %}
            {% if section.layout == "full-width" %}
              <div class="row mb-5">
                <div class="col-12">
                  <div class="detail-section">
                    {% if section.title %}
                      <h3 class="detail-section-title text-center mb-3">{{ section.title }}</h3>
                    {% endif %}
                    <div class="detail-image mb-3">
                      <img src="{{ section.image | relative_url }}" class="img-fluid" alt="{{ section.title }}">
                    </div>
                    <div class="detail-content text-center">
                      <p>{{ section.description }}</p>
                    </div>
                  </div>
                </div>
              </div>
            {% endif %}
          {% endfor %}
          
          {% comment %}Handle any remaining grid items{% endcomment %}
          {% assign grid_sections = page.detail_sections | where_exp: "section", "section.layout != 'full-width'" %}
          {% if grid_sections.size > 0 %}
            <div class="row">
              {% for section in grid_sections %}
                <div class="col-12 col-md-6 mb-4">
                  <div class="detail-section">
                    {% if section.title %}
                      <h3 class="detail-section-title text-center mb-3">{{ section.title }}</h3>
                    {% endif %}
                    <div class="detail-image mb-3">
                      <img src="{{ section.image | relative_url }}" class="img-fluid" alt="{{ section.title }}">
                    </div>
                    <div class="detail-content text-center">
                      <p>{{ section.description }}</p>
                    </div>
                  </div>
                </div>
                {% assign index = forloop.index %}
                {% assign remainder = index | modulo: 2 %}
                {% if remainder == 0 and forloop.last == false %}
                  </div>
                  <div class="row">
                {% endif %}
              {% endfor %}
            </div>
          {% endif %}
        {% else %}
          {% comment %}Default grid layout for all sections{% endcomment %}
          <div class="row">
            {% for section in page.detail_sections %}
              <div class="col-12 col-md-6 mb-4">
                <div class="detail-section">
                  {% if section.title %}
                    <h3 class="detail-section-title text-center mb-3">{{ section.title }}</h3>
                  {% endif %}
                  <div class="detail-image mb-3">
                    <img src="{{ section.image | relative_url }}" class="img-fluid" alt="{{ section.title }}">
                  </div>
                  <div class="detail-content text-center">
                    <p>{{ section.description }}</p>
                  </div>
                </div>
              </div>
              {% assign index = forloop.index %}
              {% assign remainder = index | modulo: 2 %}
              {% if remainder == 0 and forloop.last == false %}
                </div>
                <div class="row">
              {% endif %}
            {% endfor %}
          </div>
        {% endif %}
      </div>
    {% endif %}
  </div>
</div>

<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>
<script>
  var grid = document.querySelector('.gallery');
  var msnry;

  imagesLoaded( grid, function() {
    msnry = new Masonry( grid, {
      itemSelector: '.gallery-item',
      percentPosition: true,
    });
  });
</script>